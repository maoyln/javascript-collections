<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>fetch</title>
</head>
<body>
  <button type="button" onclick="handleClick()">按钮</button>
  <button type="button" onclick="handleClick1()">按钮1</button>
</body>
<script>
  
// Fetch 是现代浏览器提供的内置 API，用于发起 HTTP 请求。它基于 Promise，使得处理异步操作更加简洁和清晰。它是现代替代 XMLHttpRequest 的方式。

// 特点：

// 基于 Promise，支持异步编程（async/await）。
// 原生支持，现代浏览器无需额外安装。
// 支持更丰富的请求和响应处理功能。
// 返回的 Promise 只会在网络错误时被拒绝，4xx、5xx 等 HTTP 错误不会被认为是错误，需要手动处理。

  function handleClick() {
    fetch('https://jsonplaceholder.typicode.com/posts')
    .then(response => {
      if (!response.ok) {
        throw new Error('Network response was not ok ' + response.statusText);
      }
      return response.json();
    })
    .then(data => {
      console.log(data);
    })
    .catch(error => {
      console.error('There was a problem with the fetch operation:', error);
    });
  }


  async function handleClick1() {
    try {
      const response = await fetch('https://jsonplaceholder.typicode.com/posts');
      if (!response.ok) {
        throw new Error('Network response was not ok ' + response.statusText);
      }
      const data = await response.json();
      console.log(data);
    } catch (error) {
      console.error('There was a problem with the fetch operation:', error);
    }
  }

  handleClick1();
</script>
</html>